<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#2E6B5A">
<link rel="manifest" href="./manifest.json">
<title>Our Trips</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#F7F5F2;color:#2C2C2C;line-height:1.55;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent;min-height:100vh}
.hub{max-width:540px;margin:0 auto;padding:32px 20px 80px}
.hub h1{font-family:Georgia,serif;font-size:32px;font-weight:400;letter-spacing:-.5px;text-align:center;margin-bottom:6px}
.hub .sub{text-align:center;font-size:14px;color:#7A7A7A;margin-bottom:32px}
.trip-card{display:block;text-decoration:none;color:inherit;background:#FFF;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.07);overflow:hidden;margin-bottom:20px;transition:transform .15s,box-shadow .15s}
.trip-card:active{transform:scale(.98);box-shadow:0 1px 4px rgba(0,0,0,.1)}
.trip-hero{height:160px;background-size:cover;background-position:center;position:relative;display:flex;align-items:flex-end;padding:14px 16px}
.trip-hero::after{content:'';position:absolute;inset:0;background:linear-gradient(transparent 30%,rgba(0,0,0,.45));border-radius:16px 16px 0 0}
.trip-hero .emoji{font-size:36px;z-index:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}
.trip-body{padding:16px 16px 18px}
.trip-body h2{font-family:Georgia,serif;font-size:22px;font-weight:400;margin-bottom:2px}
.trip-body .dates{font-size:13px;color:#7A7A7A;margin-bottom:10px}
.countdown{display:inline-flex;align-items:center;gap:6px;font-size:13px;font-weight:700;padding:5px 12px;border-radius:8px}
.countdown.upcoming{background:#E8F0ED;color:#2E6B5A}
.countdown.soon{background:#FDF3E7;color:#C47A2A}
.countdown.now{background:#FBF0EC;color:#B85C3A;animation:pulse 2s infinite}
.countdown.past{background:#F0F0F0;color:#999}
.trip-teaser{font-size:13px;color:#888;margin-top:10px;line-height:1.5}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}
.section-label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:#2E6B5A;margin-bottom:12px;margin-top:8px}
.placeholder-card{background:#FFF;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.07);padding:24px;text-align:center;margin-bottom:20px}
.placeholder-card .emoji-big{font-size:48px;margin-bottom:12px}
.placeholder-card h2{font-family:Georgia,serif;font-size:20px;font-weight:400;margin-bottom:4px}
.placeholder-card .dates{font-size:13px;color:#7A7A7A;margin-bottom:8px}
.placeholder-card .note{font-size:13px;color:#AAA;font-style:italic}
</style>
</head>
<body>
<div class="hub">
  <h1>Our Trips</h1>
  <div class="sub">Family adventures, planned and packed</div>
  <div id="trips"></div>
</div>

<script>
const TRIPS=[
  {
    id:"arran",
    title:"Arran & Oban",
    emoji:"ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿",
    dates:"6 - 11 April 2026",
    start:new Date("2026-04-06T00:00:00"),
    end:new Date("2026-04-11T23:59:59"),
    href:"./arran.html",
    teaser:"Castles, alpacas, standing stones, ferries, parkrun. 6 days around the Scottish islands.",
    bg:"linear-gradient(135deg,#2E6B5A 0%,#4A9B7F 50%,#7ABFA5 100%)",
    ready:true
  },
  {
    id:"malta",
    title:"Malta",
    emoji:"ðŸ‡²ðŸ‡¹",
    dates:"20 - 29 July 2026",
    start:new Date("2026-07-20T00:00:00"),
    end:new Date("2026-07-29T23:59:59"),
    href:"./malta.html",
    teaser:"Sun, ancient temples, crystal lagoons. 10 days in the Mediterranean.",
    bg:"linear-gradient(135deg,#C47A2A 0%,#E8A84C 100%)",
    ready:true
  },
  {
    id:"japan",
    title:"Japan",
    emoji:"ðŸ‡¯ðŸ‡µ",
    dates:"24 March - 9 April 2027",
    start:new Date("2027-03-24T00:00:00"),
    end:new Date("2027-04-09T23:59:59"),
    href:null,
    teaser:"Cherry blossom season. 17 days from Tokyo to Kyoto and beyond.",
    bg:"linear-gradient(135deg,#B85C3A 0%,#D4836B 100%)",
    ready:false
  },
  {
    id:"ireland",
    title:"Ireland Road Trip",
    emoji:"ðŸ‡®ðŸ‡ª",
    dates:"1 - 8 August 2027",
    start:new Date("2027-08-01T00:00:00"),
    end:new Date("2027-08-08T23:59:59"),
    href:"./ireland.html",
    teaser:"Belfast, Giant's Causeway, Galway, Cliffs of Moher, Dingle, Killarney. 7 nights driving the Wild Atlantic Way from Durham.",
    bg:"linear-gradient(135deg,#1B5E3B 0%,#2E8B57 50%,#5DB07A 100%)",
    ready:true
  }
];

function getCountdown(trip){
  if(!trip.start) return null;
  const now=new Date();
  if(now>=trip.start&&now<=trip.end) return {text:"You're on this trip right now!",cls:"now"};
  if(now>trip.end) return {text:"Trip complete âœ“",cls:"past"};
  const diff=trip.start-now;
  const days=Math.ceil(diff/(1000*60*60*24));
  if(days<=7) return {text:`${days} day${days===1?'':'s'} to go!`,cls:"soon"};
  return {text:`${days} days to go`,cls:days<=30?"soon":"upcoming"};
}

function render(){
  const el=document.getElementById("trips");
  const ready=TRIPS.filter(t=>t.ready);
  const planned=TRIPS.filter(t=>!t.ready);

  let html='<div class="section-label">Planned</div>';

  ready.forEach(t=>{
    const cd=getCountdown(t);
    html+=`<a class="trip-card" href="${t.href}">
      <div class="trip-hero" style="background:${t.bg}">
        <span class="emoji">${t.emoji}</span>
      </div>
      <div class="trip-body">
        <h2>${t.title}</h2>
        <div class="dates">${t.dates}</div>
        ${cd?`<span class="countdown ${cd.cls}">${cd.text}</span>`:''}
        ${t.teaser?`<div class="trip-teaser">${t.teaser}</div>`:''}
      </div>
    </a>`;
  });

  if(planned.length){
    html+='<div class="section-label" style="margin-top:24px">On the horizon</div>';
    planned.forEach(t=>{
      const cd=getCountdown(t);
      html+=`<div class="placeholder-card">
        <div class="emoji-big">${t.emoji}</div>
        <h2>${t.title}</h2>
        <div class="dates">${t.dates}</div>
        ${cd?`<span class="countdown ${cd.cls}" style="margin-bottom:8px">${cd.text}</span>`:''}
        ${t.teaser?`<div class="trip-teaser" style="color:#888;font-size:13px;margin-top:8px">${t.teaser}</div>`:''}
        <div class="note" style="margin-top:8px">Itinerary coming soon</div>
      </div>`;
    });
  }

  el.innerHTML=html;
}

render();
setInterval(render,60000);

if('serviceWorker' in navigator){navigator.serviceWorker.register('./sw.js').catch(()=>{});}
</script>
</body>
</html>
